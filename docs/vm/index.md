---
# Page settings
layout: default
keywords: Azure AppSource Marketplace Virtual Machine
comments: false

title: Mastering Virtual Machine Offers

hide:
  - toc

# Hero section
description: The content in this course is from a live hands-on workshop. These demo-heavy modules take you all the way from creating a new virtual machine in Azure through publishing a custom virtual machine offer to the Microsoft commercial marketplace. If you are looking to publish a new virtual machine offer, this series will get you from beginner to advanced in a short time.
---



The content in this course is from a live hands-on workshop. These demo-heavy modules take you all the way from creating a new virtual machine in Azure through publishing a custom virtual machine offer to the Microsoft commercial marketplace. If you are looking to publish a new virtual machine offer, this series will get you from beginner to advanced in a short time.

[ðŸš¦](../learning-paths/virtual-machine-offers.md) Not sure where to get started? Try the *Working with Virtual Machine Offers* [Learning Path](../learning-paths/virtual-machine-offers.md).

<!-- no toc -->
- [Creating Virtual Machine Offers Overview](#creating-virtual-machine-offers-overview)
- [Partner Center Overview](#partner-center-overview)
- [Creating an Offer in Partner Center (Demo)](#creating-an-offer-in-partner-center-demo)
- [Creating and Customizing a Virtual Machine (Demo)](#creating-and-customizing-a-virtual-machine-demo)
- [Generalizing and Capturing a Virtual Machine Image](#generalizing-and-capturing-a-virtual-machine-image)
- [Generalizing and Capturing a Virtual Machine Image (Demo)](#generalizing-and-capturing-a-virtual-machine-image-demo)
- [Publish Your Virtual Machine Offer with Partner Center (Demo)](#publish-your-virtual-machine-offer-with-partner-center-demo)
- [Securing Your Virtual Machine](#securing-your-virtual-machine)
- [Virtual Machine Automation with Packer Overview](#virtual-machine-automation-with-packer-overview)
- [Virtual Machine Automation with Packer (Demo)](#virtual-machine-automation-with-packer-demo)
- [The Virtual Machine Offer Certification Process](#the-virtual-machine-offer-certification-process)
- [Virtual Machine Certification Test Tool (Demo)](#virtual-machine-certification-test-tool-demo)
- [Purchasing the Virtual Machine Offer](#purchasing-the-virtual-machine-offer)
- [Virtual Machine Software Reservations Overview](#virtual-machine-software-reservations-overview)
- [Securing virtual machines and containers for certification](#securing-virtual-machines-and-containers-for-certification)
- [Deprecating and restoring virtual machine images](#deprecating-and-restoring-virtual-machine-images)
- [ðŸ§ª](#hands-on-labs) [Hands-on labs](#hands-on-labs)

---

## Creating Virtual Machine offers overview

<a href="https://go.microsoft.com/fwlink/?linkid=2197805" target="_blank">Video</a>

This introductory module takes you from start to finish in creating and publishing virtual machine offers in the Microsoft commercial marketplace. Get an overview of the process from beginning to end before embarking on the more technical details in later modules.

## Partner Center for VMs overview

<a href="https://go.microsoft.com/fwlink/?linkid=2197586" target="_blank">Video</a>

Learn about creating your offers in Partner Center, including private plans, CRM integration, and more.

## Partner Center for VMs demo

<a href="https://go.microsoft.com/fwlink/?linkid=2197587" target="_blank">Video</a>

See how to create an offer in Partner Center to include creating the offer, configuring a basic CRM integration, specifying offer properties, listing details, and resell with CSP settings. This video does not go into the specifics of creating the Virtual Machine plans for the offer, which will be seen in a later demo.

## Creating and customizing a VM demo

<a href="https://go.microsoft.com/fwlink/?linkid=2197588" target="_blank">Video</a>

Learn how to not only create a Virtual Machine, but how to customize it by adding scripts or applications. This is a required step in creating your Virtual Machine offer so that the Virtual Machine itself has your intellectual property installed on it.

## Generalizing and capturing a VM image overview

<a href="https://go.microsoft.com/fwlink/?linkid=2197589" target="_blank">Video</a>

Learn what it means to generalize and capture a Virtual Machine so it can be made available in your offer. The examples provided in this overview pertain to both Windows and Linux machines.

## Generalizing and capturing a VM image demo

<a href="https://go.microsoft.com/fwlink/?linkid=2197497" target="_blank">Video</a>

See how to capture both a Linux and Windows Virtual Machine for use in your marketplace offer. This demo is done with a Linux machine, but the difference for Windows is explained along the way. Most actions taken are applicable to both machine types and this module gives you what you need to know to generalize and capture both machine types.

## Publish your VM offer with Partner Center demo

<a href="https://go.microsoft.com/fwlink/?linkid=2197498" target="_blank">Video</a>

This demonstration takes you through creating a plan for your Virtual Machine offer, associating the correct image to the plan, and setting other configuration options on your Virtual Machine. After completing the plan configuration you get to see the offer published.

## Securing your Virtual Machine

<a href="https://go.microsoft.com/fwlink/?linkid=2197298" target="_blank">Video</a>

Learn about things you can do to secure your Virtual Machine offer and the image used to create it. There are plenty of techniques you can use to harden your Virtual Machine against attackers and this video will take you through several.

## VM automation with Packer overview

<a href="https://go.microsoft.com/fwlink/?linkid=2197900" target="_blank">Video</a>

Learn about the Packer tool that enables automating many of the tasks youâ€™ve seen done by hand up until now. Packer gives you the power to create virtual machines, install software, create images, and more.

## VM automation with Packer demo

<a href="https://go.microsoft.com/fwlink/?linkid=2197723" target="_blank">Video</a>

See how the Packer tool gives you the power to automate many of the tasks needed to created Virtual Machine images for your Virtual Machine offer. This walkthrough using VS Code and the command line leaves you with the tools you need to begin your own automation.

## The Virtual Machine offer certification process 

<a href="https://go.microsoft.com/fwlink/?linkid=2197191" target="_blank">Video</a>

This quick lecture walks through the Virtual Machine offer certification process and details common reasons why certification may fail for a newly submitted virtual machine offer. This video can save you loads of time by helping you avoid common mistakes or misunderstandings.

## VM Certification Test Tool demo

<a href="https://go.microsoft.com/fwlink/?linkid=2197192" target="_blank">Video</a>

There is a tool one can use to help prepare their Virtual Machine image for certification. The Virtual Machine image certification tool is exercised in this video, and we get to see how to set it up and use it to gain confidence that a Virtual Machine image will not be rejected during certification.

## Purchasing the Virtual Machine Offer

<a href="https://go.microsoft.com/fwlink/?linkid=2197724" target="_blank">Video</a>

The offer is now complete and ready to test in Partner Center. In this video, experience buying the completed Virtual Machine offer from the point of view of the customer.

## Virtual Machine Software Reservations overview

<a href="https://go.microsoft.com/fwlink/?linkid=2212418" target="_blank">Video</a>

This module provides an overview of what Virtual Machine software reservations are and expands on various billing scenarios and publishing on the marketplace. You will also learn the publisher and customer experience of using VM software reservations.

## Securing virtual machines and containers for certification

<a href="https://go.microsoft.com/fwlink/?linkid=2220888" target="_blank">Video</a> | [PDF](./pdfs/0.0-securing-vm-and-container-images-overview.pdf)

The last thing you want is to create and publish an offer only to have it fail Microsoftâ€™s certification process. This module provides important tips and effective practices for securing virtual machines and containers before publication to the Azure Marketplace, so your offer makes it through certification the first time.

## Deprecating and restoring virtual machine images

<a href="https://go.microsoft.com/fwlink/?linkid=2225068" target="_blank">Video</a>

This video guides you through deprecating and restoring Virtual Machine images that have been published on the Azure Marketplace. You'll learn the steps to deprecate images, understand the window of deprecation, and how to undo changes within the restore window. Whether you're a seasoned Azure user or just starting out, this video provides valuable insights into the deprecation and restoration process.

- [00:00 â€“ Overview](https://www.youtube.com/watch?v=mUORIL39fnM&t=0s)
- [00:58 â€“ Deprecate an image](https://www.youtube.com/watch?v=mUORIL39fnM&t=58s)
- [04:41 - Restore an image](https://www.youtube.com/watch?v=mUORIL39fnM&t=281s)
- [06:49 â€“ Summary](https://www.youtube.com/watch?v=mUORIL39fnM&t=409s)

---

## Hands-on labs

The following hands-on labs build upon each other. They take you through the complete process of creating and publishing a virtual machine offer in the Microsoft commercial marketplace. 

Clone [this repository](https://github.com/microsoft/Mastering-the-Marketplace) to your local machine. You will need some artifacts from the lab folders to complete the labs.

### Prerequisites

- An Azure Subscription to create resources
- An active Partner Center Account (Please ensure you have enrolled into the Marketplace Offers program)
- Visual Studio Code or other text editor

### LabsðŸ§ª

1. [Partner Center Setup](./Labs/lab1-partner-center-setup/index.md)
2. [VM Creation](./Labs/lab2-vm-creation/index.md)
3. [Generalize and Capture Image](Labs/lab3-generalize-and-capture-image/index.md)
4. [Publish the Offer](./Labs/lab4-publish-your-vm-offer/index.md)
5. [Purchase your Offer](Labs/lab5-purchase-your-offer/index.md)